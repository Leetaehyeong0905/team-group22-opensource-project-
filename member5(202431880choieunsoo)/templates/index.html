<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Shape Detection Dashboard</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />

    <script>
     function showSelectedMessage() {
     const text = document.getElementById("selected-text");
     text.style.visibility = "visible";
    }
  </script>
  </head>

  <body>
    <div class="container">
      <h1>ğŸ” Shape Detection Dashboard</h1>
      <p class="subtitle">
        ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë©´ ì›(circle)ê³¼ ì„ (line)ì„ ê²€ì¶œí•˜ê³ , ê²°ê³¼ë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤.
      </p>

      <form
        class="upload-form"
        method="POST"
        enctype="multipart/form-data"
      >
        <div class="file-wrapper">
          <label for="image" class="file-label">
            ì´ë¯¸ì§€ ì„ íƒí•˜ê¸°
            <input
              id="image"
              type="file"
              name="image"
              accept="image/*"
              required
              onchange="showSelectedMessage()"
            />
          </label>

          <p id="selected-text" class="selected-msg">
            âœ… ì´ë¯¸ì§€ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤
          </p>
        </div>

        <button type="submit" class="btn">ë¶„ì„ ì‹œì‘</button>
      </form>

      {% if error %}
      <p class="error">{{ error }}</p>
      {% endif %}

      {% if circle_count is not none and line_count is not none %}
      <div class="stats">
        <div class="stat-card">
          <span class="stat-label">ì›(Circles)</span>
          <span class="stat-value">{{ circle_count }}</span>
        </div>
        <div class="stat-card">
          <span class="stat-label">ì„ (Lines)</span>
          <span class="stat-value">{{ line_count }}</span>
        </div>
      </div>
      {% endif %}

      {% if result_image %}
      <div class="images">
        <div class="image-card">
          <h2>ì…ë ¥ ì´ë¯¸ì§€</h2>
          <img src="{{ original_image }}" alt="Original Image" />
        </div>
        <div class="image-card">
          <h2>ê²€ì¶œ ê²°ê³¼</h2>
          <img src="{{ result_image }}" alt="Result Image" />
          <a
            href="{{ result_image }}"
            download
            class="download-link"
            >ê²°ê³¼ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ</a
          >
        </div>
      </div>
      {% endif %}
    </div>
  </body>
</html>


